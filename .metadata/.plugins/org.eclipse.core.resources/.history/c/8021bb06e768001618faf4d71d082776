package face;

import javax.swing.JOptionPane;

import dominio.Cliente;

public class Formulario {

	private void jButtonSalvarActionPerformed(java.awt.event.ActionEvent evt) {
		Cliente cliente = new Cliente();
		cliente.setCpf(jTextFieldCpf.getText());
		cliente.setId(Integer.parseInt(jTextFieldID.getText()));
		cliente.setNome(jTextFieldNome.getText());
		cliente.setRg(jTextFieldRg.getText());
		ClienteJpaDAO.getInstance().merge(cliente);
		clearFields();
		JOptionPane.showMessageDialog(this, "Salvo com sucesso !");
	}

	private void jButtonRemoverActionPerformed(java.awt.event.ActionEvent evt) {
		ClienteJpaDAO.getInstance().removeById(Integer.parseInt(jTextFieldID.getText()));
		clearFields();
		JOptionPane.showMessageDialog(this, "Removido com sucesso !");
	}

	private void jButtonBuscarActionPerformed(java.awt.event.ActionEvent evt) {
		int id = Integer.parseInt(JOptionPane.showInputDialog("Digite o id do cliente"));
		Cliente cliente = ClienteJpaDAO.getInstance().getById(id);
		jTextFieldCpf.setText(cliente.getCpf());
		jTextFieldID.setText(String.valueOf(cliente.getId()));
		jTextFieldNome.setText(cliente.getNome());
		jTextFieldRg.setText(cliente.getRg());
	}

	private void clearFields() {
		jTextFieldCpf.setText("");
		jTextFieldID.setText("");
		jTextFieldNome.setText("");
		jTextFieldRg.setText("");
	}

}
